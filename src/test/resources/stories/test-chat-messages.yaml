# Test: Chat Messages
# Category: Player Commands
# Purpose: Tests sending chat messages as players

name: "Chat Messages Test"
description: |
  Tests chat message sending functionality.
  Validates that players can send messages to the server.

backend: mineflayer

setup:
  - action: "connect"
    player: "pilaf_chatter"
    name: "Connect chat test player"

  - action: "wait"
    duration: 5
    name: "Wait for connection"

  - action: "servercommand"
    command: "say [Pilaf] Starting chat messages test..."
    name: "Announce test start"

steps:
  # Test 1: Send simple message
  - action: "send_chat_message"
    player: "pilaf_chatter"
    message: "Hello from Pilaf test!"
    name: "Send greeting message"

  - action: "wait"
    duration: 2
    name: "Wait for message delivery"

  # Test 2: Send multi-word message
  - action: "send_chat_message"
    player: "pilaf_chatter"
    message: "This is a test message"
    name: "Send test message"

  - action: "wait"
    duration: 2
    name: "Wait for message delivery"

  # Test 3: Server broadcast
  - action: "servercommand"
    command: "say [Pilaf] Server broadcast"
    name: "Send server broadcast"

  # Test 4: Final chat message
  - action: "send_chat_message"
    player: "pilaf_chatter"
    message: "Chat test completed!"
    name: "Send completion message"

cleanup:
  - action: "servercommand"
    command: "say [Pilaf] Chat test completed"
    name: "Announce completion"

  - action: "disconnect"
    player: "pilaf_chatter"
    name: "Disconnect test player"
